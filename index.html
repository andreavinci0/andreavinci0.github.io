<!DOCTYPE html>
<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
       
    </head>
    <body>
        <table border="1">
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Cognome</th>
                    <th>Et√†</th>
                    <th>UserId</th>
                    <th>Account Balance</th>
                </tr>
            </thead>
            <tbody id="dati"></tbody>
        </table> 
        <script>
          

            var GetCustomers = function(){   
            $.ajax
            ({
            method: "GET",
            url: "http://localhost:5248/api/Customer",
            success: function (utenti){}
            
            });
        }
        
         var GetConti = function(){   
         $.ajax
            ({
            method: "GET",
            url: "http://localhost:5248/api/Bank",
            success: function (conti){}
         
        });
        }

         $.when(GetCustomers(), GetConti()).done(function(utenti, conti){
            var uc = [];
            for (var utente of utenti){
                var conto = conti.find(conto => conto.userId == utente.userId);
                var utenteConto = {};
                
                utenteConto.firstName = utente.firstName;
                utenteConto.surname = utente.surname;
                utenteConto.userId = utente.userId;
                utenteConto.balance = utente.balance;
                
                uc.push(utenteConto);
            }
         });

        </script>
    </body>
</html>
